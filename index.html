<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>|</title>
  <link id="favicon" rel="icon" type="image/svg+xml">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;600;700;900&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
    }
    iframe {
      border: none;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <iframe 
    src="https://senin-uygulaman.streamlit.app/?embed=true" 
    allowfullscreen 
    allow="fullscreen">
  </iframe>
</body>
  // =========================
  // 4) Title + Favicon + H1 senkron pulse
  // =========================
  const faviconId = "favicon";
  const h1El = document.querySelector(".header h1");

  function makeBoltSvg(fill) {
    return `
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
        <rect width="64" height="64" rx="16" fill="#09090b"/>
        <path d="M36 6 L14 36 H29 L24 58 L50 26 H35 Z" fill="${fill}"/>
      </svg>`;
  }
<script>
  function setFavicon(svg) {
    const encoded = encodeURIComponent(svg.trim())
      .replace(/'/g, "%27")
      .replace(/"/g, "%22");

    const href = `data:image/svg+xml;charset=utf-8,${encoded}#${Date.now()}`;

    const old = document.getElementById(faviconId) || document.querySelector('link[rel="icon"]');
    const link = document.createElement("link");
    link.id = faviconId;
    link.rel = "icon";
    link.type = "image/svg+xml";
    link.href = href;

    if (old && old.parentNode) old.parentNode.removeChild(old);
    document.head.appendChild(link);
  }

  // Title animasyonu (takılmayan)
  const titleText = "sinankeskin.com.tr/";
  let titleIndex = 0;
  let titleDir = 1; // 1 yaz, -1 sil
  let pulseOn = true;

  function tickTitleAndPulse() {
    // 1) Pulse state (favicon + H1)
    pulseOn = !pulseOn;

    setFavicon(makeBoltSvg(pulseOn ? "#a78bfa" : "#4c1d95"));

    if (h1El) {
      h1El.classList.toggle("pulse-on", pulseOn);
      h1El.classList.toggle("pulse-off", !pulseOn);
    }

    // 2) Title yaz/sil (asla boş kalmaz)
    titleIndex += titleDir;

    if (titleIndex >= titleText.length) {
      titleIndex = titleText.length;
      titleDir = -1;
    } else if (titleIndex <= 1) {
      titleIndex = 1;
      titleDir = 1;
    }

    // cursor title ile birlikte
    const cursor = pulseOn ? "|" : " ";
    document.title = titleText.slice(0, titleIndex) + cursor;
  }

  // =========================
  // 5) Güvenlik/UX engelleri
  // =========================
  function disableContextMenu() {
    document.addEventListener("contextmenu", (e) => e.preventDefault());
  }

  function blockSomeShortcuts() {
    document.addEventListener("keydown", (e) => {
      const key = (e.key || "").toLowerCase();
      const isF12 = e.key === "F12";
      const isCtrlU = e.ctrlKey && key === "u";
      const isCtrlShiftI = e.ctrlKey && e.shiftKey && key === "i";
      const isCtrlShiftJ = e.ctrlKey && e.shiftKey && key === "j";

      if (isF12 || isCtrlU || isCtrlShiftI || isCtrlShiftJ) {
        e.preventDefault();
      }
    });
  }

  // =========================
  // 6) Başlat
  // =========================
  renderOffers();

  // her gün 00:00'da yenile
  setInterval(() => {
    const now = new Date();
    if (now.getHours() === 0 && now.getMinutes() === 0) renderOffers();
  }, 60000);

  // ilk anda boş title olmasın + ilk favicon
  document.title = "|";
  setFavicon(makeBoltSvg("#a78bfa"));
  if (h1El) h1El.classList.add("pulse-on");

  // Senkron ritim (favicon + h1 + title cursor)
  setInterval(tickTitleAndPulse, 600);

  disableContextMenu();
  blockSomeShortcuts();
</script>
</html>
